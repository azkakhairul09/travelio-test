{"ast":null,"code":"import _asyncToGenerator from\"D:/GitHub/Travelio Test/book-search/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/GitHub/Travelio Test/book-search/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"D:\\\\GitHub\\\\Travelio Test\\\\book-search\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import FavoriteIconDefault from'@mui/icons-material/FavoriteBorderOutlined';import FavoriteIcon from'@mui/icons-material/FavoriteOutlined';import WishlistIconDefault from'@mui/icons-material/BookmarkBorderOutlined';import WishlistIcon from'@mui/icons-material/BookmarkOutlined';import{pink,grey}from'@mui/material/colors';import{Box}from'@mui/material';import React,{forwardRef,useEffect,useImperativeHandle}from'react';import{getWishlist}from'../../../function/apiGetWishlist';import{getFavorite}from'../../../function/apiGetFavorite';import{addWishlist}from'../../../function/apiSaveWishlist';import{addFavorite}from'../../../function/apiSaveFavorite';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var WishlistBookCard=/*#__PURE__*/forwardRef(function(props,ref){var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),isFavorite=_React$useState2[0],setIsFavorite=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),isWishlist=_React$useState4[0],setIsWishlist=_React$useState4[1];var cleanValue=function cleanValue(){setIsFavorite(false);setIsWishlist(false);};function wishlistCheck(value){getWishlist(value).then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(res){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(res&&res.code==200){setIsWishlist(true);}else{setIsWishlist(false);}case 1:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}()).catch(function(e){return setIsWishlist(false);});}function favoriteCheck(value){getFavorite(value).then(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(res){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(res&&res.code==200){setIsFavorite(true);}else{setIsFavorite(false);}case 1:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}()).catch(function(e){return setIsFavorite(false);});}useEffect(function(){wishlistCheck(props.bookUid);favoriteCheck(props.bookUid);},[props.bookUid]);useImperativeHandle(ref,function(){return{setIsFavorite:cleanValue};});function saveWishlist(value){addWishlist(value).then(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(res){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(res&&res.code==200){props.isWishlistClicked();setIsWishlist(true);}else{setIsWishlist(false);}case 1:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}()).catch(function(e){return setIsWishlist(false);});}function saveFavorite(value){addFavorite(value).then(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(res){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(res&&res.code==200){props.isFavoriteClicked();setIsFavorite(true);}else{setIsFavorite(false);}case 1:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x4){return _ref4.apply(this,arguments);};}()).catch(function(e){return setIsFavorite(false);});}return/*#__PURE__*/_jsxs(Box,{sx:{display:'flex'},children:[/*#__PURE__*/_jsx(Box,{children:isWishlist?/*#__PURE__*/_jsx(WishlistIcon,{sx:{color:grey[700],cursor:'pointer'}}):/*#__PURE__*/_jsx(WishlistIconDefault,{sx:{cursor:'pointer'},onClick:function onClick(){setIsWishlist(true);saveWishlist(props.bookUid);}})}),/*#__PURE__*/_jsx(Box,{children:isFavorite?/*#__PURE__*/_jsx(FavoriteIcon,{sx:{color:pink[500],cursor:'pointer'}}):/*#__PURE__*/_jsx(FavoriteIconDefault,{sx:{cursor:'pointer'},onClick:function onClick(){setIsFavorite(true);saveFavorite(props.bookUid);}})})]});});export default WishlistBookCard;","map":{"version":3,"names":["FavoriteIconDefault","FavoriteIcon","WishlistIconDefault","WishlistIcon","pink","grey","Box","React","forwardRef","useEffect","useImperativeHandle","getWishlist","getFavorite","addWishlist","addFavorite","WishlistBookCard","props","ref","useState","isFavorite","setIsFavorite","isWishlist","setIsWishlist","cleanValue","wishlistCheck","value","then","res","code","catch","e","favoriteCheck","bookUid","saveWishlist","isWishlistClicked","saveFavorite","isFavoriteClicked","display","color","cursor"],"sources":["D:/GitHub/Travelio Test/book-search/src/modules/component/wishlistBookCard/index.js"],"sourcesContent":["import FavoriteIconDefault from '@mui/icons-material/FavoriteBorderOutlined'\r\nimport FavoriteIcon from '@mui/icons-material/FavoriteOutlined'\r\nimport WishlistIconDefault from '@mui/icons-material/BookmarkBorderOutlined'\r\nimport WishlistIcon from '@mui/icons-material/BookmarkOutlined'\r\nimport { pink, grey } from '@mui/material/colors';\r\nimport { Box } from '@mui/material'\r\nimport React, { forwardRef, useEffect, useImperativeHandle } from 'react'\r\nimport { getWishlist } from '../../../function/apiGetWishlist';\r\nimport { getFavorite } from '../../../function/apiGetFavorite';\r\nimport { addWishlist } from '../../../function/apiSaveWishlist';\r\nimport { addFavorite } from '../../../function/apiSaveFavorite';\r\n\r\nconst WishlistBookCard = forwardRef((props, ref) => {\r\n\r\n    const [isFavorite, setIsFavorite] = React.useState(false)\r\n    const [isWishlist, setIsWishlist] = React.useState(false)\r\n\r\n    const cleanValue = () => {\r\n        setIsFavorite(false);\r\n        setIsWishlist(false)\r\n    };\r\n\r\n    function wishlistCheck(value) {\r\n        getWishlist(value).then(async res => {\r\n            if (res && res.code == 200) {\r\n                setIsWishlist(true)\r\n            } else {\r\n                setIsWishlist(false)\r\n            }\r\n        }).catch(e => (\r\n            setIsWishlist(false)\r\n        ))\r\n    }\r\n\r\n    function favoriteCheck(value) {\r\n        getFavorite(value).then(async res => {\r\n            if (res && res.code == 200) {\r\n                setIsFavorite(true)\r\n            } else {\r\n                setIsFavorite(false)\r\n            }\r\n        }).catch(e => (\r\n            setIsFavorite(false)\r\n        ))\r\n    }\r\n\r\n    useEffect(() => {\r\n        wishlistCheck(props.bookUid)\r\n        favoriteCheck(props.bookUid)\r\n    }, [props.bookUid])\r\n    \r\n\r\n    useImperativeHandle(ref, () => {\r\n        return {\r\n            setIsFavorite: cleanValue\r\n        }\r\n    });\r\n\r\n    function saveWishlist(value) {\r\n        addWishlist(value).then(async res => {\r\n            if (res && res.code == 200) {\r\n                props.isWishlistClicked();\r\n                setIsWishlist(true)\r\n            } else {\r\n                setIsWishlist(false)\r\n            }\r\n        }).catch(e => (\r\n            setIsWishlist(false)\r\n        ))\r\n    }\r\n\r\n    function saveFavorite(value) {\r\n        addFavorite(value).then(async res => {\r\n            if (res && res.code == 200) {\r\n                props.isFavoriteClicked();\r\n                setIsFavorite(true)\r\n            } else {\r\n                setIsFavorite(false)\r\n            }\r\n        }).catch(e => (\r\n            setIsFavorite(false)\r\n        ))\r\n    }\r\n\r\n    return (\r\n        <Box sx={{\r\n            display: 'flex'\r\n        }}>\r\n            <Box>\r\n                {isWishlist ? <WishlistIcon sx={{ color: grey[700], cursor: 'pointer' }} /> : <WishlistIconDefault sx={{ cursor: 'pointer' }} onClick={() => { setIsWishlist(true); saveWishlist(props.bookUid) }} />}\r\n            </Box>\r\n            <Box>\r\n                {isFavorite ? <FavoriteIcon sx={{ color: pink[500], cursor: 'pointer' }} /> : <FavoriteIconDefault sx={{ cursor: 'pointer' }} onClick={() => { setIsFavorite(true); saveFavorite(props.bookUid) }} />}\r\n            </Box>\r\n        </Box>\r\n    )\r\n\r\n})\r\n\r\nexport default WishlistBookCard"],"mappings":"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"},"metadata":{},"sourceType":"module"}